<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane stylesheets="@../../Styles/Client/BookDetailWithReview.css" xmlns="http://javafx.com/javafx/23" xmlns:fx="http://javafx.com/fxml/1" fx:controller="main.Controllers.Client.BookDetailWithReviewController">

    <center>
        <HBox spacing="15" styleClass="main-layout">

            <VBox prefWidth="250.0" spacing="10" styleClass="book-details-section">
                <ImageView fx:id="bookImageView" fitHeight="200" fitWidth="150" preserveRatio="true" />
                <Label fx:id="labelTitle" styleClass="section-title" text="Title" />
                <Label fx:id="labelAuthor" text="Author" />
                <Label fx:id="labelISBN" text="ISBN" />
                <Label fx:id="labelGenre" text="Genre" />
                <Label fx:id="labelLanguage" text="Language" />
                <Label fx:id="labelPublicationYear" text="Publication Year" />
                <Label fx:id="labelAverageRating" text="Average Rating: 0.0" />
                <Label fx:id="labelReviewCount" text="Number of Reviews: 0" />
            </VBox>

            <VBox spacing="20" styleClass="center-section">

                <VBox spacing="10" styleClass="reviews-section">
                    <Label styleClass="section-title" text="Reviews:" />
                    <TableView fx:id="reviewTable" prefHeight="200">
                        <columns>
                            <TableColumn fx:id="colRating" prefWidth="100" text="Rating" />
                            <TableColumn fx:id="colComment" prefWidth="300" text="Comment" />
                            <TableColumn fx:id="colReviewDate" prefWidth="150" text="Date" />
                        </columns>
                  <columnResizePolicy>
                     <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                  </columnResizePolicy>
                    </TableView>
                </VBox>

                <HBox spacing="15">

                    <VBox prefWidth="250.0" spacing="10" styleClass="description-section">
                        <Label styleClass="section-title" text="Description:" />
                        <TextArea fx:id="textDescription" editable="false" prefHeight="202.0" prefWidth="217.0" wrapText="true" />
                    </VBox>

                    <VBox prefWidth="400.0" spacing="15" styleClass="write-review-panel">
                        <Label styleClass="section-title" text="Your Review:" />
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Label text="Rating:" />
                            <HBox fx:id="writeReviewStars" spacing="5">
                            </HBox>
                        </HBox>
                        <TextArea fx:id="writeReviewTextArea" prefHeight="100" promptText="Enter your review here..." wrapText="true" />
                        <HBox spacing="20">
                            <Button onAction="#onSubmitReview" styleClass="action-button" text="Submit Review" />
                            <Button onAction="#onCancel" styleClass="action-button" text="Cancel" />
                        </HBox>
                    </VBox>

                </HBox>
            </VBox>

        </HBox>
    </center>
</BorderPane>
