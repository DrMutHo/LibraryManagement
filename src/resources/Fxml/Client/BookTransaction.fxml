<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="750.0" prefWidth="850.0" styleClass="root" stylesheets="@../../Styles/Client/Transaction.css" xmlns="http://javafx.com/javafx/23" xmlns:fx="http://javafx.com/fxml/1" fx:controller="main.Controllers.Client.BookTransactionController">

    <!-- CENTER -->
    <center>
        <VBox spacing="15" styleClass="main-panel">
         <HBox alignment="CENTER" spacing="15" styleClass="search-bar-container">
            <children>
               <TextField fx:id="searchField" promptText="Search books by title or author..." styleClass="search-bar" />
               <Button styleClass="search-button" text="🔍 Search" />
            </children>
         </HBox>

            <!-- Main Content -->
            <HBox spacing="15" styleClass="content-panel">
                
                <!-- Transaction Table -->
                <VBox prefHeight="562.0" prefWidth="587.0" spacing="10" styleClass="book-list-panel">
                    <Label styleClass="section-title" text="📋  Borrowed Books" />
                    <TableView fx:id="transactionTable" prefHeight="311.0" prefWidth="565.0" styleClass="transaction-table">
                        <columns>
                            <TableColumn fx:id="titleColumn" prefWidth="200.0" text="Title" />
                            <TableColumn fx:id="copyIdColumn" prefWidth="90.0" text="Copy ID" />
                            <TableColumn fx:id="borrowDateColumn" prefWidth="160.0" text="Borrow Date" />
                            <TableColumn fx:id="returnDateColumn" prefWidth="160.0" text="Return Date" />
                            <TableColumn fx:id="statusColumn" prefWidth="100.0" text="Status" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>

                    <!-- Description -->
                    <VBox spacing="10" styleClass="description-panel">
                        <Label styleClass="description-title" text="Description:" />
                        <TextArea fx:id="textDescription" editable="false" prefHeight="120" promptText="No description available." styleClass="description-area" wrapText="true" />
                    </VBox>
                </VBox>

                <!-- Transaction Details -->
                <VBox spacing="15" styleClass="detail-panel">
                    <Label styleClass="section-title" text="📖 Book Details" />
                    <ImageView fx:id="bookImageView" fitHeight="150.0" fitWidth="131.0" preserveRatio="true" styleClass="book-image" />
               <VBox alignment="CENTER_LEFT" spacing="10">
                  <children>
                     <Label styleClass="detail-label" text="Title:" />
                     <Label fx:id="labelTitle" styleClass="detail-value" text="-" />
                     <Label styleClass="detail-label" text="Author:" />
                     <Label fx:id="labelAuthor" styleClass="detail-value" text="-" />
                     <Label styleClass="detail-label" text="Genre:" />
                     <Label fx:id="labelGenre" styleClass="detail-value" text="-" />
                  </children>
               </VBox>
               <VBox alignment="CENTER" spacing="10">
                  <children>
                     <Button styleClass="action-button" text="📄 View Details" />
                     <Button styleClass="action-button" text="✍ Write Review" />
                  </children>
               </VBox>
               <VBox alignment="CENTER" spacing="10">
                  <children>
                     <Label styleClass="rating-label" text="Your Rating:" />
                     <HBox fx:id="ratingStars" alignment="CENTER" spacing="5" />
                  </children>
               </VBox>
                </VBox>
            </HBox>
        </VBox>
    </center>
   <top>
      <HBox alignment="CENTER_LEFT" prefHeight="58.0" prefWidth="700.0" spacing="10.0" styleClass="head-bar" BorderPane.alignment="CENTER">
         <children>
            <Label alignment="CENTER" prefHeight="58.0" prefWidth="129.0" text="My Library" textFill="#4a34f7">
               <font>
                  <Font name="Monotype Corsiva" size="22.0" />
               </font>
            </Label>
            <Separator maxHeight="-Infinity" orientation="VERTICAL" prefHeight="21.0" prefWidth="0.0" />
            <Pane prefHeight="200.0" prefWidth="200.0" HBox.hgrow="ALWAYS" />
            <HBox alignment="CENTER_RIGHT" prefHeight="100.0" prefWidth="200.0" />
         </children>
      </HBox>
   </top>
</BorderPane>
